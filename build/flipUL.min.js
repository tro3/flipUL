/*
/* flipUL - Markdown components for Flip
*/
(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};angular.module("flipUL",[]).directive("flipUl",function(){return{restrict:"A",scope:{items:"=flipUl",choices:"=",attr:"@",editMode:"=?",onAdd:"&",onRemove:"&"},templateUrl:"flipUL/flipUL.html",link:function(b,c,d){var e,f;return f=b,e=d.key||f.attr,f.editMode=f.editMode||!1,f.dynChoices=function(){var b,c;return b=function(){var a,b,d,g;for(d=f.items,g=[],a=0,b=d.length;b>a;a++)c=d[a],g.push(c[e]);return g}(),f.choices.filter(function(c){var d;return d=c[e],!(a.call(b,d)>=0)}).sort()},f.dynFilter=function(a){var b;return b={},b[f.attr]=a,b},f.add=function(a){return a?(f.items.push(a),f.newItem=null,f.onAdd({item:a})):void 0},f.remove=function(a){var b,c;return b=function(){var a,b,d,g;for(d=f.items,g=[],a=0,b=d.length;b>a;a++)c=d[a],g.push(c[e]);return g}(),f.items.splice(b.indexOf(a[e]),1),f.onRemove({item:a})}}}}).run(["$templateCache",function(a){return a.put("flipUL/flipUL.html",'<li ng-show="items.length==0">None</li>\n<li ng-repeat="item in items"> {{item[attr]}}\n    <span ng-if="editMode" ng-click="remove(item)" style="cursor:pointer">\n      <i class="fa fa-remove"></i>\n    </span>\n  </span>\n</li>\n<li ng-show="editMode">\n  <span style="width:200px" class="input-group">\n    <input ng-model="newItem"\n           typeahead="x as x[attr] for x in dynChoices() | filter:dynFilter($viewValue)"\n           typeahead-editable="false"\n           class="form-control"\n    />\n    <span class="input-group-btn">\n      <button ng-click="add(newItem)" class="btn btn-default">\n        <i style="height:20px;padding-top:3px" class="fa fa-plus fa-fw"></i>\n      </button>\n    </span>\n  </span>\n</li>')}])}).call(this);